<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sal: sal::intrusive_mpsc_queue_t&lt; Next &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sal
   &#160;<span id="projectnumber">0.31.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classsal_1_1intrusive__mpsc__queue__t.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsal_1_1intrusive__mpsc__queue__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sal::intrusive_mpsc_queue_t&lt; Next &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Intrusive multiple producers single consumer queue (FIFO).  
 <a href="classsal_1_1intrusive__mpsc__queue__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="intrusive__mpsc__queue_8hpp_source.html">intrusive_mpsc_queue.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5fceddb8809d508fd3c638c7d7a3ee92"><td class="memItemLeft" align="right" valign="top"><a id="a5fceddb8809d508fd3c638c7d7a3ee92"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a5fceddb8809d508fd3c638c7d7a3ee92">element_type</a> = decltype(helper(static_cast&lt; <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a>&lt; Next &gt; * &gt;(nullptr)))</td></tr>
<tr class="memdesc:a5fceddb8809d508fd3c638c7d7a3ee92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Element type of container. <br /></td></tr>
<tr class="separator:a5fceddb8809d508fd3c638c7d7a3ee92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf5c6337214495003a13aeaba4fb9340"><td class="memItemLeft" align="right" valign="top"><a id="aaf5c6337214495003a13aeaba4fb9340"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>intrusive_mpsc_queue_t</b> (const <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> &amp;)=delete</td></tr>
<tr class="separator:aaf5c6337214495003a13aeaba4fb9340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18a26a85bf00707bb7df68745a711325"><td class="memItemLeft" align="right" valign="top"><a id="a18a26a85bf00707bb7df68745a711325"></a>
<a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> &amp;)=delete</td></tr>
<tr class="separator:a18a26a85bf00707bb7df68745a711325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff402eb6197a45126382f24270b7eeb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#aff402eb6197a45126382f24270b7eeb4">intrusive_mpsc_queue_t</a> (<a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> &amp;&amp;that) noexcept</td></tr>
<tr class="memdesc:aff402eb6197a45126382f24270b7eeb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct new queue with elements from <em>that</em>.  <a href="#aff402eb6197a45126382f24270b7eeb4">More...</a><br /></td></tr>
<tr class="separator:aff402eb6197a45126382f24270b7eeb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0821958b78bead3df3131c0fabb23549"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a0821958b78bead3df3131c0fabb23549">operator=</a> (<a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> &amp;&amp;that) noexcept</td></tr>
<tr class="memdesc:a0821958b78bead3df3131c0fabb23549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move elements of <em>that</em> into <em>this</em>.  <a href="#a0821958b78bead3df3131c0fabb23549">More...</a><br /></td></tr>
<tr class="separator:a0821958b78bead3df3131c0fabb23549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cca66e748934a997613693d69e42d5"><td class="memItemLeft" align="right" valign="top"><a id="a01cca66e748934a997613693d69e42d5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a01cca66e748934a997613693d69e42d5">push</a> (<a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a5fceddb8809d508fd3c638c7d7a3ee92">element_type</a> *node) noexcept</td></tr>
<tr class="memdesc:a01cca66e748934a997613693d69e42d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push new <em>element</em> to back of queue. <br /></td></tr>
<tr class="separator:a01cca66e748934a997613693d69e42d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa41f6dd8b93913167e65c93023f06bd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a5fceddb8809d508fd3c638c7d7a3ee92">element_type</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#aa41f6dd8b93913167e65c93023f06bd9">try_pop</a> () noexcept</td></tr>
<tr class="memdesc:aa41f6dd8b93913167e65c93023f06bd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop next element from head of queue.  <a href="#aa41f6dd8b93913167e65c93023f06bd9">More...</a><br /></td></tr>
<tr class="separator:aa41f6dd8b93913167e65c93023f06bd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42047eabbca46375526c47337453428d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a42047eabbca46375526c47337453428d">empty</a> () const noexcept</td></tr>
<tr class="memdesc:a42047eabbca46375526c47337453428d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if queue has no elements.  <a href="#a42047eabbca46375526c47337453428d">More...</a><br /></td></tr>
<tr class="separator:a42047eabbca46375526c47337453428d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;auto Next&gt;<br />
class sal::intrusive_mpsc_queue_t&lt; Next &gt;</h3>

<p>Intrusive multiple producers single consumer queue (FIFO). </p>
<p>Elements of this container must provide member address <em>Next</em> that stores opaque data managed by container. Any given time specific hook can be used only to store element in single container. Same hook can be used to store element in different containers at different times. If application needs to store element in multiple containers same time, it needs to provide multiple hooks, one per owner.</p>
<p>Being intrusive, container itself does not deal with node allocation. It is application's responsibility to handle node management and make sure that while in container, element is kept alive and it's hook is not interfered with. Also, pushing and popping elements into/from container does not copy them, just hooks/unhooks using specified member <em>Next</em>.</p>
<p>Usage: </p><div class="fragment"><div class="line"><span class="keyword">class </span>foo_t</div><div class="line">{</div><div class="line">  <a class="code" href="intrusive__mpsc__queue_8hpp.html#addbd37156d237505254a662951fcd229">sal::intrusive_mpsc_queue_hook_t&lt;foo_t&gt;</a> next;</div><div class="line">  <span class="keywordtype">int</span> a;</div><div class="line">  <span class="keywordtype">char</span> b;</div><div class="line">};</div><div class="line"><a class="code" href="classsal_1_1intrusive__mpsc__queue__t.html">sal::intrusive_mpsc_queue_t&lt;&amp;foo_t::next&gt;</a> queue;</div><div class="line"></div><div class="line">foo_t f;</div><div class="line">queue.<a class="code" href="classsal_1_1intrusive__mpsc__queue__t.html#a01cca66e748934a997613693d69e42d5">push</a>(&amp;f);</div><div class="line"></div><div class="line"><span class="keyword">auto</span> fp = queue.<a class="code" href="classsal_1_1intrusive__mpsc__queue__t.html#aa41f6dd8b93913167e65c93023f06bd9">try_pop</a>(); <span class="comment">// fp == &amp;f</span></div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Method <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a01cca66e748934a997613693d69e42d5" title="Push new element to back of queue. ">push()</a> is thread safe but not other methods. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aff402eb6197a45126382f24270b7eeb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff402eb6197a45126382f24270b7eeb4">&#9670;&nbsp;</a></span>intrusive_mpsc_queue_t()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;auto Next&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">sal::intrusive_mpsc_queue_t</a>&lt; Next &gt;::<a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a>&lt; Next &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>that</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct new queue with elements from <em>that</em>. </p>
<p><em>that</em> will be empty after the move. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a42047eabbca46375526c47337453428d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42047eabbca46375526c47337453428d">&#9670;&nbsp;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;auto Next&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">sal::intrusive_mpsc_queue_t</a>&lt; Next &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if queue has no elements. </p>
<p>This method returns reliably valid result only from consumer side. </p>

</div>
</div>
<a id="a0821958b78bead3df3131c0fabb23549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0821958b78bead3df3131c0fabb23549">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;auto Next&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a>&amp; <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">sal::intrusive_mpsc_queue_t</a>&lt; Next &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a>&lt; Next &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>that</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move elements of <em>that</em> into <em>this</em>. </p>
<p><em>that</em> will be empty after the move. Existing elements of <em>this</em> are "forgotten" during move. If there are dynamically allocated, it is application responsibility to release them beforehand. </p>

</div>
</div>
<a id="aa41f6dd8b93913167e65c93023f06bd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41f6dd8b93913167e65c93023f06bd9">&#9670;&nbsp;</a></span>try_pop()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;auto Next&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html#a5fceddb8809d508fd3c638c7d7a3ee92">element_type</a>* <a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">sal::intrusive_mpsc_queue_t</a>&lt; Next &gt;::try_pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pop next element from head of queue. </p>
<p>If empty, return nullptr. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>sal</b></li><li class="navelem"><a class="el" href="classsal_1_1intrusive__mpsc__queue__t.html">intrusive_mpsc_queue_t</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
