<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sal: sal::logger::async_worker_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sal
   &#160;<span id="projectnumber">0.24.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classsal_1_1logger_1_1async__worker__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classsal_1_1logger_1_1async__worker__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sal::logger::async_worker_t Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Asynchronous logger worker.  
 <a href="classsal_1_1logger_1_1async__worker__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="async__worker_8hpp_source.html">async_worker.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sal::logger::async_worker_t:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classsal_1_1logger_1_1async__worker__t.png" usemap="#sal::logger::async_5Fworker_5Ft_map" alt=""/>
  <map id="sal::logger::async_5Fworker_5Ft_map" name="sal::logger::async_5Fworker_5Ft_map">
<area href="classsal_1_1logger_1_1basic__worker__t.html" alt="sal::logger::basic_worker_t&lt; async_worker_t &gt;" shape="rect" coords="0,0,276,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aeeeb3c44c9a8e12bc3f4833b6affd14b"><td class="memItemLeft" align="right" valign="top"><a id="aeeeb3c44c9a8e12bc3f4833b6affd14b"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#aeeeb3c44c9a8e12bc3f4833b6affd14b">channel_type</a> = <a class="el" href="classsal_1_1logger_1_1channel__t.html">channel_t</a>&lt; <a class="el" href="classsal_1_1logger_1_1async__worker__t.html">async_worker_t</a> &gt;</td></tr>
<tr class="memdesc:aeeeb3c44c9a8e12bc3f4833b6affd14b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel type for specified <em>Worker</em>. <br /></td></tr>
<tr class="separator:aeeeb3c44c9a8e12bc3f4833b6affd14b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a03b3d08edf9b2d7bcc7d2a0f82ea5a7d"><td class="memTemplParams" colspan="2"><a id="a03b3d08edf9b2d7bcc7d2a0f82ea5a7d"></a>
template&lt;typename... Options&gt; </td></tr>
<tr class="memitem:a03b3d08edf9b2d7bcc7d2a0f82ea5a7d"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsal_1_1logger_1_1async__worker__t.html#a03b3d08edf9b2d7bcc7d2a0f82ea5a7d">async_worker_t</a> (Options &amp;&amp;...options)</td></tr>
<tr class="memdesc:a03b3d08edf9b2d7bcc7d2a0f82ea5a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct new asynchronous worker for logging. <br /></td></tr>
<tr class="separator:a03b3d08edf9b2d7bcc7d2a0f82ea5a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b4a2b1c3048307f015ce6023f5ef41a"><td class="memItemLeft" align="right" valign="top"><a id="a2b4a2b1c3048307f015ce6023f5ef41a"></a>
<a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#aeeeb3c44c9a8e12bc3f4833b6affd14b">channel_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#a2b4a2b1c3048307f015ce6023f5ef41a">default_channel</a> () noexcept</td></tr>
<tr class="memdesc:a2b4a2b1c3048307f015ce6023f5ef41a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return reference to default channel created during worker construction. <br /></td></tr>
<tr class="separator:a2b4a2b1c3048307f015ce6023f5ef41a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf7d041e83ae694d0359fa70245869ea"><td class="memItemLeft" align="right" valign="top"><a id="adf7d041e83ae694d0359fa70245869ea"></a>
<a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#aeeeb3c44c9a8e12bc3f4833b6affd14b">channel_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#adf7d041e83ae694d0359fa70245869ea">get_channel</a> (const std::string &amp;name) noexcept</td></tr>
<tr class="memdesc:adf7d041e83ae694d0359fa70245869ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return previously created channel with <em>name</em> or default channel if not found. <br /></td></tr>
<tr class="separator:adf7d041e83ae694d0359fa70245869ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef3a6fca86ba802792e2d444b2193e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#aeeeb3c44c9a8e12bc3f4833b6affd14b">channel_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#a6ef3a6fca86ba802792e2d444b2193e5">make_channel</a> (const std::string &amp;name, Options &amp;&amp;...options)</td></tr>
<tr class="memdesc:a6ef3a6fca86ba802792e2d444b2193e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new channel <em>with</em> name, using <em>options</em>.  <a href="#a6ef3a6fca86ba802792e2d444b2193e5">More...</a><br /></td></tr>
<tr class="separator:a6ef3a6fca86ba802792e2d444b2193e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4840fb1d9ea6cdb21012d9d8860a5a50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#a4840fb1d9ea6cdb21012d9d8860a5a50">set_enabled_if</a> (bool enabled, Filter &amp;&amp;filter)</td></tr>
<tr class="memdesc:a4840fb1d9ea6cdb21012d9d8860a5a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Visit each channel and set it's <em>enabled</em> state if <em>filter</em> predicate returns true.  <a href="#a4840fb1d9ea6cdb21012d9d8860a5a50">More...</a><br /></td></tr>
<tr class="separator:a4840fb1d9ea6cdb21012d9d8860a5a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:af5a8c29b7bd55c2a46f32c17b8e04a5a"><td class="memItemLeft" align="right" valign="top"><a id="af5a8c29b7bd55c2a46f32c17b8e04a5a"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>channel_t&lt; async_worker_t &gt;</b></td></tr>
<tr class="separator:af5a8c29b7bd55c2a46f32c17b8e04a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Asynchronous logger worker. </p>
<p>It uses separate thread to write event records to final destinations asynchronously. Events are sent from logging threads to worker thread using queues. Event records are reused: after writing event, it is not released but stored in free list. Next logging will acquire event record from there or allocates new one if no free event at that moment.</p>
<p>Compared to <a class="el" href="classsal_1_1logger_1_1worker__t.html" title="Simple synchronous logger. ">worker_t</a>, asynchronous worker does block logging thread for shorter period (possible event record allocation when there is no free records in pool). When specific application does not need such non-blocking behavior, use <a class="el" href="classsal_1_1logger_1_1worker__t.html" title="Simple synchronous logger. ">worker_t</a> instead as it is simpler and does not do allocations on it's own. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6ef3a6fca86ba802792e2d444b2193e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ef3a6fca86ba802792e2d444b2193e5">&#9670;&nbsp;</a></span>make_channel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#aeeeb3c44c9a8e12bc3f4833b6affd14b">channel_type</a> <a class="el" href="classsal_1_1logger_1_1basic__worker__t.html">sal::logger::basic_worker_t</a>&lt; <a class="el" href="classsal_1_1logger_1_1async__worker__t.html">async_worker_t</a>  &gt;::make_channel </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Options &amp;&amp;...&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create new channel <em>with</em> name, using <em>options</em>. </p>
<p>If some or none of options are specified, corresponding defaults are taken from <a class="el" href="classsal_1_1logger_1_1basic__worker__t.html#a2b4a2b1c3048307f015ce6023f5ef41a" title="Return reference to default channel created during worker construction. ">default_channel()</a></p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespacesal_1_1logger.html#a8c3d6b518790f7cda8b5935d7504a083" title="Return option to configure channel&#39;s sink. ">set_channel_sink()</a> </dd></dl>

</div>
</div>
<a id="a4840fb1d9ea6cdb21012d9d8860a5a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4840fb1d9ea6cdb21012d9d8860a5a50">&#9670;&nbsp;</a></span>set_enabled_if()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classsal_1_1logger_1_1basic__worker__t.html">sal::logger::basic_worker_t</a>&lt; <a class="el" href="classsal_1_1logger_1_1async__worker__t.html">async_worker_t</a>  &gt;::set_enabled_if </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Filter &amp;&amp;&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Visit each channel and set it's <em>enabled</em> state if <em>filter</em> predicate returns true. </p>
<p>Signature of the <em>filter</em> should be equivalent of: </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> filter (<span class="keyword">const</span> std::string &amp;channel_name);</div></div><!-- fragment --><p>This method help to turn on/off group of channels. Example, turn off all channels that has suffix '.debug' in their name: </p><div class="fragment"><div class="line">worker.set_enabled_if(<span class="keyword">false</span>,</div><div class="line">  [](<span class="keyword">auto</span> channel_name)</div><div class="line">  {</div><div class="line">    <span class="keywordflow">return</span> ends_with(channel_name, <span class="stringliteral">&quot;.debug&quot;</span>);</div><div class="line">  }</div><div class="line">)</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>sal</b></li><li class="navelem"><a class="el" href="namespacesal_1_1logger.html">logger</a></li><li class="navelem"><a class="el" href="classsal_1_1logger_1_1async__worker__t.html">async_worker_t</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
