<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sal: sal::intrusive_queue_t&lt; T, SyncPolicy, Hook &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sal
   &#160;<span id="projectnumber">0.24.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classsal_1_1intrusive__queue__t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsal_1_1intrusive__queue__t-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sal::intrusive_queue_t&lt; T, SyncPolicy, Hook &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Intrusive queue (FIFO) with possible concurrent usage.  
 <a href="classsal_1_1intrusive__queue__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="intrusive__queue_8hpp_source.html">intrusive_queue.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a807d362a0d9b012bc5dc6152c97d0e31"><td class="memItemLeft" align="right" valign="top"><a id="a807d362a0d9b012bc5dc6152c97d0e31"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>intrusive_queue_t</b> (const <a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> &amp;)=delete</td></tr>
<tr class="separator:a807d362a0d9b012bc5dc6152c97d0e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa719bd7f8ccb59d71b5f11311e492af4"><td class="memItemLeft" align="right" valign="top"><a id="aa719bd7f8ccb59d71b5f11311e492af4"></a>
<a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> &amp;)=delete</td></tr>
<tr class="separator:aa719bd7f8ccb59d71b5f11311e492af4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87047e2021e8ee876ca5c75c603f8d80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__queue__t.html#a87047e2021e8ee876ca5c75c603f8d80">intrusive_queue_t</a> (<a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> &amp;&amp;that) noexcept</td></tr>
<tr class="memdesc:a87047e2021e8ee876ca5c75c603f8d80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct new queue filled with elements moved from <em>that</em>.  <a href="#a87047e2021e8ee876ca5c75c603f8d80">More...</a><br /></td></tr>
<tr class="separator:a87047e2021e8ee876ca5c75c603f8d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61295bd1e6c94df551b0ece9e64bddc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__queue__t.html#ab61295bd1e6c94df551b0ece9e64bddc">operator=</a> (<a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> &amp;&amp;that) noexcept</td></tr>
<tr class="memdesc:ab61295bd1e6c94df551b0ece9e64bddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move elements from <em>that</em> to <em>this</em>.  <a href="#ab61295bd1e6c94df551b0ece9e64bddc">More...</a><br /></td></tr>
<tr class="separator:ab61295bd1e6c94df551b0ece9e64bddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ddb75628944019fae56f6293c598d0"><td class="memItemLeft" align="right" valign="top"><a id="ac7ddb75628944019fae56f6293c598d0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__queue__t.html#ac7ddb75628944019fae56f6293c598d0">push</a> (T *node) noexcept</td></tr>
<tr class="memdesc:ac7ddb75628944019fae56f6293c598d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push new <em>node</em> into <em>this</em>. <br /></td></tr>
<tr class="separator:ac7ddb75628944019fae56f6293c598d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbef7021b05f1580b79df1275e7fe4ab"><td class="memItemLeft" align="right" valign="top"><a id="adbef7021b05f1580b79df1275e7fe4ab"></a>
T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__queue__t.html#adbef7021b05f1580b79df1275e7fe4ab">try_pop</a> () noexcept</td></tr>
<tr class="memdesc:adbef7021b05f1580b79df1275e7fe4ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop next element from queue. If empty, return nullptr. <br /></td></tr>
<tr class="separator:adbef7021b05f1580b79df1275e7fe4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20499592f91180b02d30ab7c6f86b67"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsal_1_1intrusive__queue__t.html#ac20499592f91180b02d30ab7c6f86b67">empty</a> () const noexcept</td></tr>
<tr class="memdesc:ac20499592f91180b02d30ab7c6f86b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if queue has no elements.  <a href="#ac20499592f91180b02d30ab7c6f86b67">More...</a><br /></td></tr>
<tr class="separator:ac20499592f91180b02d30ab7c6f86b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T, typename SyncPolicy, typename SyncPolicy::intrusive_queue_hook_t T::* Hook&gt;<br />
class sal::intrusive_queue_t&lt; T, SyncPolicy, Hook &gt;</h3>

<p>Intrusive queue (FIFO) with possible concurrent usage. </p>
<p>Queue elements of type <em>T</em> must provide <em>Hook</em> that stores opaque data managed by owning queue. Any given time specific hook can be used only to store element in single queue. Same hook can be used to store element in different queues at different times. If application needs to store element in multiple queues same time, it needs to provide multiple hooks, one per holding queue.</p>
<p>Being intrusive, queue itself does not deal with node allocation. It is application's responsibility to handle node management and make sure that while in queue, element is kept alive and it's hook is not interfered with. Also, pushing and popping elements into/from queue does not copy them, just hooks/unhooks using specified member <em>Hook</em> in <em>T</em>.</p>
<p>Usage: </p><div class="fragment"><div class="line"><span class="keyword">class </span>foo</div><div class="line">{</div><div class="line">  <a class="code" href="structsal_1_1mpsc__sync__t.html#a451764ca69e667381e96bbdad3b4b7cb">sal::mpsc_sync_t::intrusive_queue_hook_t</a> hook;</div><div class="line">  <span class="keywordtype">int</span> a;</div><div class="line">  <span class="keywordtype">char</span> b;</div><div class="line">};</div><div class="line"></div><div class="line"><a class="code" href="classsal_1_1queue__t.html">sal::queue_t&lt;foo, sal::mpsc_sync_t, &amp;foo::hook&gt;</a> queue;</div><div class="line"></div><div class="line">foo f;</div><div class="line">queue.<a class="code" href="classsal_1_1queue__t.html#ab01456fea8afdabd681e61c16a2f2ca8">push</a>(&amp;f);</div><div class="line"></div><div class="line"><span class="keyword">auto</span> fp = queue.<a class="code" href="classsal_1_1queue__t.html#a8b7d6d6680e15cd795a161e08bbd338d">try_pop</a>(); <span class="comment">// fp == &amp;f</span></div></div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a87047e2021e8ee876ca5c75c603f8d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87047e2021e8ee876ca5c75c603f8d80">&#9670;&nbsp;</a></span>intrusive_queue_t()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename SyncPolicy , typename SyncPolicy::intrusive_queue_hook_t T::* Hook&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsal_1_1intrusive__queue__t.html">sal::intrusive_queue_t</a>&lt; T, SyncPolicy, Hook &gt;::<a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a>&lt; T, SyncPolicy, Hook &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>that</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct new queue filled with elements moved from <em>that</em>. </p>
<p>Using <em>that</em> after move is undefined behaviour (until another queue moves it's elements into <em>that</em>).</p>
<dl class="section note"><dt>Note</dt><dd>Moving elements out of <em>that</em> is not thread-safe. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac20499592f91180b02d30ab7c6f86b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20499592f91180b02d30ab7c6f86b67">&#9670;&nbsp;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename SyncPolicy , typename SyncPolicy::intrusive_queue_hook_t T::* Hook&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classsal_1_1intrusive__queue__t.html">sal::intrusive_queue_t</a>&lt; T, SyncPolicy, Hook &gt;::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if queue has no elements. </p>
<p>This method returns reliably valid result only from consumer side. </p>

</div>
</div>
<a id="ab61295bd1e6c94df551b0ece9e64bddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61295bd1e6c94df551b0ece9e64bddc">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename SyncPolicy , typename SyncPolicy::intrusive_queue_hook_t T::* Hook&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a>&amp; <a class="el" href="classsal_1_1intrusive__queue__t.html">sal::intrusive_queue_t</a>&lt; T, SyncPolicy, Hook &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a>&lt; T, SyncPolicy, Hook &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>that</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move elements from <em>that</em> to <em>this</em>. </p>
<p>Using <em>that</em> after move is undefined behaviour (until another queue moves it's elements into <em>that</em>).</p>
<p>Elements in <em>this</em> are "forgotten" during move. If these are dynamically allocated, it is applications responsibility to release them beforehand.</p>
<dl class="section note"><dt>Note</dt><dd>Moving elements out of <em>that</em> is not thread-safe. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>sal</b></li><li class="navelem"><a class="el" href="classsal_1_1intrusive__queue__t.html">intrusive_queue_t</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
